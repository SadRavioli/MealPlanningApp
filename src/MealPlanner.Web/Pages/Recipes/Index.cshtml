@page
@model MealPlanner.Web.Pages.Recipes.IndexModel
@{
    ViewData["Title"] = "Recipes";
}

<div class="space-y-6">
    <!-- Header with Add Button -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <div>
            <h1 class="text-3xl font-bold text-gray-900">My Recipes</h1>
            <p class="text-gray-600 mt-1">@Model.Recipes.Count recipe@(Model.Recipes.Count != 1 ? "s" : "") in your collection</p>
        </div>
        <a asp-page="Create" class="inline-flex items-center justify-center px-6 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors font-medium shadow-sm">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Add Recipe
        </a>
    </div>

    <!-- Search Bar -->
    <div class="relative">
        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
        </div>
        <input type="text"
               name="searchTerm"
               value="@Model.SearchTerm"
               placeholder="Search recipes..."
               class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
               hx-get="/Recipes/Index"
               hx-trigger="keyup changed delay:300ms"
               hx-target="#recipe-grid"
               hx-include="[name='searchTerm']">
    </div>

    <!-- Recipe Grid Container -->
    <div id="recipe-grid">
        <partial name="_RecipeGrid" model="Model.Recipes" />
    </div>
</div>
